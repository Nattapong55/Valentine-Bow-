<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine ğŸ’–</title>

<style>
body {
    font-family: "Prompt", sans-serif;
    background: #ff9ecb;
    margin: 0;
    overflow: hidden;
    text-align: center;
    color: #fff;
}

/* à¸«à¸™à¹‰à¸²à¹‚à¸«à¸¥à¸” */
#loading {
    position: fixed;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    font-size: 40px;
    z-index: 10;
    overflow: hidden;
}

/* à¸ à¸²à¸à¹€à¸šà¸¥à¸­à¸à¸·à¹‰à¸™à¸«à¸¥à¸±à¸‡à¸•à¸­à¸™à¸£à¸­ */
#loading::before {
    content: "";
    position: absolute;
    width: 110%;
    height: 110%;
    background: url("bow.jpg") center/cover no-repeat;
    filter: blur(15px) brightness(0.7);
    z-index: -1;
}

/* à¸›à¸¸à¹ˆà¸¡à¹€à¸à¸¥à¸‡à¸•à¸­à¸™à¹‚à¸«à¸¥à¸” */
#musicControl {
    margin-top: 30px;
    background: white;
    color: black;
    border-radius: 50%;
    width: 70px;
    height: 70px;
    font-size: 30px;
    border: none;
    cursor: pointer;
}

/* à¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¸«à¸¥à¸±à¸ */
#content {
    display: none;
    padding-top: 40px;
}

/* à¸£à¸¹à¸› */
img {
    width: 250px;
    height: 250px;
    object-fit: cover;
    border-radius: 20px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.3);
    display: block;
    margin: auto;
}

/* animation à¹€à¸”à¹‰à¸‡ */
@keyframes pop {
    0% { transform: scale(0.8); opacity:0; }
    100% { transform: scale(1); opacity:1; }
}

/* à¸ªà¸±à¹ˆà¸™ */
@keyframes shake {
    0% { transform: translate(2px, 2px); }
    25% { transform: translate(-2px, -2px); }
    50% { transform: translate(2px, -2px); }
    75% { transform: translate(-2px, 2px); }
    100% { transform: translate(2px, 2px); }
}

.shake {
    animation: shake 0.2s infinite;
}

/* à¸à¸¥à¹ˆà¸­à¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡ */
#message {
    font-size: 22px;
    margin-top: 20px;
    display: none;
    max-height: 200px;
    overflow-y: auto;
    padding: 10px;
    background: rgba(255,255,255,0.2);
    border-radius: 15px;
}
</style>
</head>

<body>

<div id="loading">
    ğŸ’— à¸—à¸µà¹ˆà¸£à¸±à¸à¸à¸£à¸¸à¸“à¸²à¸£à¸­à¸ªà¸±à¸à¸„à¸£à¸¹à¹ˆ... <br>
    <span id="count">20</span>
    <button id="musicControl">ğŸµ</button>
</div>

<div id="content">
    <h1>ğŸ’– Happy Valentine ğŸ’–</h1>

    <img src="bow.jpg" alt="à¹à¸Ÿà¸™">

    <div id="question">à¸£à¸±à¸à¸à¸µà¹ˆà¹„à¸«à¸¡? ğŸ’•</div>

    <div>
        <button id="loveBtn">à¸£à¸±à¸ ğŸ’•</button>
        <button id="noLoveBtn">à¹„à¸¡à¹ˆà¸£à¸±à¸ ğŸ˜</button>
    </div>

    <div id="message"></div>
</div>

<audio id="bgMusic" loop>
    <source src="music.mp3" type="audio/mpeg">
</audio>

<audio id="loveSound">
    <source src="love.mp3" type="audio/mpeg">
</audio>

<script>

const music = document.getElementById("bgMusic");
const musicBtn = document.getElementById("musicControl");

let playing = false;
let timerStarted = false;

musicBtn.onclick = () => {

    if (!playing) {
        music.play();
        musicBtn.innerText = "ğŸ”Š";
        playing = true;

        if (!timerStarted) {
            startCountdown();
            timerStarted = true;
        }

    } else {
        music.pause();
        musicBtn.innerText = "ğŸµ";
        playing = false;
    }
};

function startCountdown() {

    let time = 20;
    let countEl = document.getElementById("count");

    let timer = setInterval(() => {
        time--;
        countEl.innerText = time;

        if (time <= 0) {
            clearInterval(timer);

            document.getElementById("loading").style.display = "none";
            document.getElementById("content").style.display = "block";

            startNoLoveMove();
        }
    }, 1000);
}

const noBtn = document.getElementById("noLoveBtn");

function moveButton() {
    let x = Math.random() * (window.innerWidth - 120);
    let y = Math.random() * (window.innerHeight - 80);

    noBtn.style.left = x + "px";
    noBtn.style.top = y + "px";
}

function startNoLoveMove() {
    noBtn.classList.add("shake");

    noBtn.addEventListener("mouseover", moveButton);
    noBtn.addEventListener("click", moveButton);
}

const loveBtn = document.getElementById("loveBtn");
const message = document.getElementById("message");
const loveSound = document.getElementById("loveSound");
const bgMusic = document.getElementById("bgMusic");

loveBtn.onclick = () => {
    // à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¹€à¸”à¹‰à¸‡à¸«à¸™à¸µ
function moveLoveBtn() {
    loveBtn.style.position = "fixed";

    let x = Math.random() * (window.innerWidth - 120);
    let y = Math.random() * (window.innerHeight - 80);

    loveBtn.style.left = x + "px";
    loveBtn.style.top = y + "px";
}

function showLoveMessage() {

    // à¸‹à¹ˆà¸­à¸™à¸›à¸¸à¹ˆà¸¡
    loveBtn.style.display = "none";
    
    // à¸¥à¸”à¹€à¸ªà¸µà¸¢à¸‡à¹€à¸à¸¥à¸‡à¹€à¸«à¸¥à¸·à¸­ 10%
    let originalVolume = bgMusic.volume;
    let fadeOut = setInterval(() => {
        if (bgMusic.volume > 0.1) {
            bgMusic.volume -= 0.05;
        } else {
            bgMusic.volume = 0.1;
            clearInterval(fadeOut);
        }
    }, 20);

    // à¹€à¸¥à¹ˆà¸™à¹€à¸ªà¸µà¸¢à¸‡à¸à¸¹à¸”
    loveSound.currentTime = 0;
    loveSound.play();

    // à¸à¸­à¹€à¸ªà¸µà¸¢à¸‡à¸à¸¹à¸”à¸ˆà¸š à¹€à¸à¸¥à¸‡à¸à¸¥à¸±à¸šà¸”à¸±à¸‡
    loveSound.onended = () => {

        let fadeIn = setInterval(() => {
            if (bgMusic.volume < originalVolume) {
                bgMusic.volume += 0.05;
            } else {
                bgMusic.volume = originalVolume;
                clearInterval(fadeIn);
            }
        }, 50);
    };

    message.style.display = "block";
    message.innerHTML = `
<div style="
    background: linear-gradient(135deg,#ffd6e7,#ffe9f3);
    padding:20px;
    border-radius:25px;
    box-shadow:0 8px 25px rgba(255,105,180,0.4);
    color:#ff4d88;
    font-size:20px;
    line-height:1.8;
    border:3px solid rgba(255,255,255,0.6);
    position:relative;
    overflow:hidden;
    animation: pop 0.4s ease;
">

âœ¨ğŸ‘‘ ğŸ’• à¸£à¸±à¸à¸™à¸°à¸„à¸° My Princess à¸‚à¸­à¸‡à¸à¸µà¹ˆ ğŸ’• ğŸ‘‘âœ¨<br><br>

à¸‚à¸­à¹ƒà¸«à¹‰à¸«à¸™à¸¹à¸¡à¸µà¸„à¸§à¸²à¸¡à¸ªà¸¸à¸‚à¹ƒà¸™à¸—à¸¸à¸à¸§à¸±à¸™à¹€à¸¥à¸¢à¸™à¸° ğŸŒ¸<br>
à¸­à¸¢à¸¹à¹ˆà¸‚à¹‰à¸²à¸‡à¸à¸µà¹ˆà¹à¸šà¸šà¸™à¸µà¹‰à¹„à¸›à¸™à¸²à¸™ à¹† à¹€à¸¥à¸¢<br>
à¸à¸µà¹ˆà¸ˆà¸°à¸”à¸¹à¹à¸¥à¸«à¸™à¸¹à¹ƒà¸«à¹‰à¸”à¸µà¸—à¸µà¹ˆà¸ªà¸¸à¸”à¹€à¸—à¹ˆà¸²à¸—à¸µà¹ˆà¸à¸µà¹ˆà¸ˆà¸°à¸—à¸³à¹„à¸”à¹‰ ğŸ’—<br>
à¸«à¸™à¸¹à¸„à¸·à¸­à¸£à¸­à¸¢à¸¢à¸´à¹‰à¸¡à¸‚à¸­à¸‡à¸à¸µà¹ˆà¹€à¸ªà¸¡à¸­ â¤ï¸<br><br>

à¹à¸¥à¸°à¹„à¸¡à¹ˆà¸§à¹ˆà¸²à¸§à¸±à¸™à¹„à¸«à¸™à¸ˆà¸°à¸”à¸µà¸«à¸£à¸·à¸­à¸£à¹‰à¸²à¸¢<br>
à¸à¸µà¹ˆà¸à¹‡à¸ˆà¸°à¸­à¸¢à¸¹à¹ˆà¸‚à¹‰à¸²à¸‡à¸«à¸™à¸¹à¹€à¸ªà¸¡à¸­ ğŸ¤âœ¨

<div style="
    position:absolute;
    top:-10px;
    right:-10px;
    font-size:40px;
    opacity:0.3;
">ğŸ’–</div>

<div style="
    position:absolute;
    bottom:-10px;
    left:-10px;
    font-size:40px;
    opacity:0.3;
">âœ¨</div>

</div>
`;
};

</script>

</body>
</html>
